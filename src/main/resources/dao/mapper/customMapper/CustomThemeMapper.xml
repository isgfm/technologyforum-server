<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.guo.technologyforum.dao.mapper.customMapper.CustomThemeMapper">

    <resultMap type="com.guo.technologyforum.dao.entity.vo.ThemeListVO" id="themeClassResultMap">
        <!-- id表示查询结果集中唯一标识 column:查询出的列名
        property:type所指定的POJO中的属性名
        最终reslutMap对column和property做一个映射关系(对应关系)
        -->

    </resultMap>

    <select id="getThemeListByTabsId" resultType="com.guo.technologyforum.dao.entity.vo.ThemeListVO">
        select * from t_theme left join t_user on t_theme.n_user_id=t_user.n_id where n_theme_class in
        (select c1.n_id from t_theme_class c1 inner join t_theme_class c2 on c1.n_parentId = c2.n_id where c2.n_id=#{tabsId})
    </select>

    <select id="getThemeListByNodeId" resultType="com.guo.technologyforum.dao.entity.vo.ThemeListVO">
        select * from t_theme left join t_user on t_theme.n_user_id=t_user.n_id where n_theme_class = #{nodeId}
    </select>

</mapper>